-- Base de datos TP 3, alumnos: Arias,Daddino

SELECT * FROM estado
--1
SELECT usuario.nick, grupo.descripcion 
FROM usuario_grupo 
JOIN grupo ON usuario_grupo.id_grupo=grupo.id
JOIN usuario ON usuario.id=usuario_grupo.id_usuario;
--2
SELECT usuario.ultima_conexion, grupo.descripcion 
FROM usuario
INNER JOIN grupo
ON usuario.id=grupo.id
WHERE usuario.ultima_conexion='2015-05-05';
--3
SELECT 
--4
SELECT mensaje.mensaje, estado.descripcion 
FROM mensaje
INNER JOIN estado
ON mensaje.id=estado.id;
--5
SELECT usuario.nick,mensaje.id_usr_from,mensaje.id_usr_to
FROM usuario
INNER JOIN mensaje
ON usuario.id=mensaje.id
WHERE mensaje.id_usr_from=mensaje.id_usr_to;
--6
SELECT usuario.nick,estado.descripcion,mensaje.id_usr_from,mensaje.id_usr_to,
FROM usuario
INNER JOIN mensaje
ON usuario.id=mensaje.id
WHERE mensaje.id_usr_from=mensaje.id_usr_to;
--7
SELECT mensaje.mensaje,usuario.nick
FROM mensaje
JOIN  estado ON estado.id=mensaje.id
JOIN usuario ON usuario.id=mensaje.id
WHERE estado.descripcion='Leido'
WHERE mensaje.hora_envio<=usuario.ultimaconexion;
